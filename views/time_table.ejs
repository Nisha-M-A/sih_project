<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teacher Time Table</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f7fb;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .card {
      background-color: #fff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 95%;
      max-width: 1000px;
    }

    h2 {
      text-align: center;
      color: #0b63d8;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
      min-width: 100px;
    }

    th {
      background-color: #e3f0ff;
      color: #0b63d8;
    }

    td.editable:hover {
      background-color: #f0f8ff;
      cursor: text;
    }

    .btn {
      margin-top: 15px;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
    }

    .submit-btn {
      background-color: #0b63d8;
      color: #fff;
      float: right;
    }

    .submit-btn:hover {
      background-color: #084a9b;
    }

    .free-btn {
      background-color: red;
      color: white;
      float: left;
    }

    .free-btn:hover {
      background-color: darkred;
    }

    .free-text {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="card">
  <h2>Time Table</h2>
  <table id="taskTable">
    <thead>
      <tr>
        <th>Time</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows will be generated by JS -->
    </tbody>
  </table>
  <button class="btn free-btn" onclick="addFreeSlot()">Add Free Slot</button>
  <form action="/table_created" method="get"><button class="btn submit-btn">Submit</button></form>
</div>

<script>
  const tableBody = document.querySelector("#taskTable tbody");
  let selectedCell = null;

  const startHour = 9;
  const endHour = 17;
  const days = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];

  // Format 24-hour -> 12-hour with AM/PM
  function formatHour(hour) {
    let period = hour >= 12 ? "PM" : "AM";
    let displayHour = hour % 12;
    displayHour = displayHour === 0 ? 12 : displayHour; 
    return `${displayHour}:00 ${period}`;
  }

  for (let hour = startHour; hour <= endHour; hour++) {
    const row = document.createElement("tr");

    // Time column
    const timeCell = document.createElement("td");
    timeCell.textContent = `${formatHour(hour)} - ${formatHour(hour + 1)}`;
    row.appendChild(timeCell);

    // Day cells (editable)
    for (let j = 0; j < 6; j++) {
      const cell = document.createElement("td");
      cell.classList.add("editable");
      cell.setAttribute("contenteditable", "true"); // editable cells
      cell.addEventListener("click", function() {
        selectedCell = cell;
      });
      row.appendChild(cell);
    }

    tableBody.appendChild(row);
  }

  // Add Free Slot
  function addFreeSlot() {
    if (selectedCell) {
      selectedCell.innerHTML = "<span class='free-text'>Free Slot</span>";
    }
  }
</script>

</body>
</html>

